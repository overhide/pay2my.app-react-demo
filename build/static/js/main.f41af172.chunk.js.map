{"version":3,"sources":["components/Pay2MyAppHubComponent.tsx","components/Pay2MyAppStatusComponent.tsx","components/Pay2MyAppLoginComponent.tsx","components/Pay2MyAppLoginButtonComponent.tsx","components/Pay2MyAppSellButtonComponent.tsx","components/Messages.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["Pay2MyAppHubComponent","props","hubRef","useRef","useState","token","setToken","invokeOnPendingTransaction","event","onPendingTransaction","detail","currency","isPending","useEffect","onHubInit","hub","current","fetch","then","response","a","ok","text","console","error","status","statusText","catch","e","element","addEventListener","removeEventListener","ref","isTest","Pay2MyAppStatusComponent","componentRef","component","setHub","Pay2MyAppLoginComponent","overhideSocialMicrosoftEnabled","overhideSocialGoogleEnabled","overhideWeb3Enabled","ethereumWeb3Enabled","bitcoinEnabled","overhideSecretTokenEnabled","Pay2MyAppLoginButtonComponent","loginMessage","slot","className","Pay2MyAppSellButtonComponent","invokeOnSkuClicked","log","JSON","stringify","sku","from","btoa","asOf","headers","message","signature","onAddMessage","onAddError","priceDollars","authorizedMessage","unauthorizedTemplate","bitcoinAddress","ethereumAddress","overhideAddress","withinMinutes","Messages","messages","index","length","value","push","isError","App","isVisaPending","setIsVisaPending","setMessages","addMessage","unshift","Date","addError","id","src","process","alt","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Pay2MyAppHub","Pay2MyAppStatus","Pay2MyAppLogin","Pay2MyAppSell","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f41af172.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\n\r\nimport { IPay2MyAppHub } from \"pay2my.app\";\r\n\r\ntype Pay2MyAppHubProps = {\r\n  isTest: boolean;\r\n  onHubInit?: (hub: IPay2MyAppHub) => void;\r\n  onPendingTransaction?: ( currency: string, isPending: boolean) => void;\r\n};\r\n\r\nconst Pay2MyAppHubComponent: React.FunctionComponent<Pay2MyAppHubProps>  = (props) => {\r\n  const hubRef = useRef();\r\n  const BACKEND_CONNECTION_STRING = `https://demo-back-end.azurewebsites.net/api`;\r\n\r\n  const [token, setToken] = useState<string | null>(null);\r\n\r\n  const invokeOnPendingTransaction = (event: any) => {\r\n    if (!props.onPendingTransaction) {\r\n      return;\r\n    }\r\n    props.onPendingTransaction(event.detail.currency, event.detail.isPending)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (!!props.onHubInit) {\r\n      const {current} = hubRef;\r\n      const hub: IPay2MyAppHub = (current as unknown) as IPay2MyAppHub;\r\n      props.onHubInit(hub);\r\n    }\r\n\r\n    fetch(`${BACKEND_CONNECTION_STRING}/GetToken`)\r\n    .then(async (response) => {\r\n      if (response.ok) {            \r\n        setToken(await response.text());\r\n      } else {\r\n        console.error(`error talking to back-end -- ${response.status} &mdash; ${response.statusText}`);\r\n      }\r\n    }).catch(e => console.error(`error talking to back-end -- ${e}`));\r\n  }, [hubRef]);\r\n\r\n  useEffect(() => {\r\n    const {current} = hubRef;\r\n    const element = (current as unknown) as HTMLElement;\r\n    // This event fires whenever we're asked to topup funds.\r\n    // We're using it here to show the VISA instructional helper image.\r\n    element.addEventListener('pay2myapp-hub-pending-transaction', invokeOnPendingTransaction);\r\n    return () => element.removeEventListener('pay2myapp-hub-pending-transaction', invokeOnPendingTransaction);\r\n  }, [hubRef]);\r\n\r\n  return (\r\n    <div>\r\n      <pay2myapp-hub ref={hubRef} token={token} isTest={props.isTest}></pay2myapp-hub>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pay2MyAppHubComponent;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nimport { IPay2MyAppHub, IPay2MyAppStatus } from \"pay2my.app\";\r\n\r\ntype Pay2MyAppStatusProps = {\r\n  hub?: IPay2MyAppHub | null;\r\n};\r\n\r\nconst Pay2MyAppStatusComponent: React.FunctionComponent<Pay2MyAppStatusProps>  = (props) => {\r\n  const componentRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!!componentRef) {\r\n      const { current } = componentRef;\r\n      const component = (current as unknown) as IPay2MyAppStatus;\r\n      if (!!props.hub && !!component.setHub) {\r\n        component.setHub(props.hub);\r\n      }\r\n    }\r\n  }, [props.hub])\r\n\r\n  return (\r\n    <div>\r\n      <pay2myapp-status ref={componentRef}></pay2myapp-status>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pay2MyAppStatusComponent;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nimport { IPay2MyAppHub, IPay2MyAppLogin } from \"pay2my.app\";\r\n\r\ntype Pay2MyAppLoginProps = {\r\n  hub?: IPay2MyAppHub | null;\r\n};\r\n\r\nconst Pay2MyAppLoginComponent: React.FunctionComponent<Pay2MyAppLoginProps>  = (props) => {\r\n  const componentRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!!componentRef) {\r\n      const { current } = componentRef;\r\n      const component = (current as unknown) as IPay2MyAppLogin;\r\n      if (!!props.hub && !!component.setHub) {\r\n        component.setHub(props.hub);\r\n      }\r\n    }\r\n  }, [props.hub])\r\n\r\n  return (\r\n    <div>\r\n      <pay2myapp-login ref={componentRef}\r\n                      overhideSocialMicrosoftEnabled\r\n                      overhideSocialGoogleEnabled\r\n                      overhideWeb3Enabled\r\n                      ethereumWeb3Enabled\r\n                      bitcoinEnabled\r\n                      overhideSecretTokenEnabled>\r\n      </pay2myapp-login>    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pay2MyAppLoginComponent;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nimport './Pay2MyAppLoginButtonComponent.css';\r\n\r\nimport { IPay2MyAppHub, IPay2MyAppAppsell } from \"pay2my.app\";\r\n\r\ntype Pay2MyAppLoginButtonProps = {\r\n  hub?: IPay2MyAppHub | null;\r\n};\r\n\r\nconst Pay2MyAppLoginButtonComponent: React.FunctionComponent<Pay2MyAppLoginButtonProps>  = (props) => {\r\n  const componentRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!!componentRef) {\r\n      const { current } = componentRef;\r\n      const component = (current as unknown) as IPay2MyAppAppsell;\r\n      if (!!props.hub && !!component.setHub) {\r\n        component.setHub(props.hub);\r\n      }\r\n    }\r\n  }, [props.hub])\r\n\r\n  return (\r\n    <div>\r\n      <pay2myapp-appsell \r\n        ref={componentRef}      \r\n        loginMessage=\"Login\">\r\n          <div slot=\"unauthorized-button\" className=\"neopolitan-button\"></div>\r\n      </pay2myapp-appsell>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pay2MyAppLoginButtonComponent;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nimport { IPay2MyAppHub, IPay2MyAppAppsell } from \"pay2my.app\";\r\n\r\ntype Pay2MyAppSellButtonProps = {\r\n  hub?: IPay2MyAppHub | null;\r\n  sku?: string;\r\n  priceDollars?: string;\r\n  authorizedMessage?: string;\r\n  unauthorizedTemplate?: string;\r\n  bitcoinAddress?: string;\r\n  ethereumAddress?: string;\r\n  overhideAddress?: string;\r\n  withinMinutes?: string;\r\n  onAddMessage?: (sku: string) => void;\r\n  onAddError?: (text: string) => void;\r\n};\r\n\r\nconst Pay2MyAppSellButtonComponent: React.FunctionComponent<Pay2MyAppSellButtonProps>  = (props) => {\r\n  const componentRef = useRef();\r\n  const BACKEND_CONNECTION_STRING = `https://demo-back-end.azurewebsites.net/api`;\r\n\r\n  const invokeOnSkuClicked = (event: any) => {\r\n    console.log(`sku-clicked :: ${JSON.stringify(event.detail, null, 2)}`);\r\n  \r\n    // Call back-end and ensure it verifies before saying it's handled.\r\n    fetch(`${BACKEND_CONNECTION_STRING}/RunFeature`\r\n      +`?sku=${event.detail.sku}`\r\n      +`&currency=${event.detail.currency}`\r\n      +`&from=${event.detail.from}`\r\n      +`&isTest=${event.detail.isTest}`\r\n      +`&message=${btoa(event.detail.asOf)}`,\r\n      { \r\n        headers: { \r\n          // note `e.detail.message` is the overhide api `token` retrieved by the library\r\n          // note `e.detail.signature` is the signature of the above `token`, signed with the `from` address (user address)\r\n          \"Authorization\": `Bearer ${btoa(event.detail.message)}:${btoa(event.detail.signature)}`\r\n      }})\r\n      .then(response => {\r\n        if (response.ok) {\r\n          props.onAddMessage && props.onAddMessage(event.detail.sku);\r\n        } else {\r\n          props.onAddError && props.onAddError(`error talking to back-end &mdash; ${response.status} &mdash; ${response.statusText}`);\r\n        }\r\n    }).catch(e => props.onAddError && props.onAddError(`error talking to back-end &mdash; ${e}`))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!!componentRef) {\r\n      const { current } = componentRef;\r\n      const component = (current as unknown) as IPay2MyAppAppsell;\r\n      if (!!props.hub && !!component.setHub) {\r\n        component.setHub(props.hub);\r\n      }\r\n    }\r\n  }, [props.hub])\r\n\r\n  useEffect(() => {\r\n    const {current} = componentRef;\r\n    const element = (current as unknown) as HTMLElement;\r\n    // This is where we listen to authorized users clicking on events when they click a feature button.\r\n    // We hit the back-end in response to these.\r\n    // We re-validate authorizations in the back-end.\r\n    // See /demo-back-end\r\n    element.addEventListener('pay2myapp-appsell-sku-clicked', invokeOnSkuClicked);\r\n    return () => element.removeEventListener('pay2myapp-appsell-sku-clicked', invokeOnSkuClicked);\r\n  }, [props.hub]);\r\n\r\n  return (\r\n    <div>\r\n      <pay2myapp-appsell \r\n        ref={componentRef}      \r\n        sku={props.sku}\r\n        priceDollars={props.priceDollars}\r\n        authorizedMessage={props.authorizedMessage}\r\n        unauthorizedTemplate={props.unauthorizedTemplate}\r\n        bitcoinAddress={props.bitcoinAddress}\r\n        ethereumAddress={props.ethereumAddress}\r\n        overhideAddress={props.overhideAddress}\r\n        withinMinutes={props.withinMinutes}>\r\n      </pay2myapp-appsell>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pay2MyAppSellButtonComponent;\r\n","import React from \"react\";\r\n\r\nimport './Messages.css';\r\nimport '../assets/w3.css'\r\n\r\nexport interface Message {\r\n  text: string;\r\n  isError: boolean;\r\n};\r\n\r\ntype MessagesProps = {\r\n  messages: Message[];\r\n};\r\n\r\nconst Messages: React.FunctionComponent<MessagesProps>  = (props) => {\r\n  const messages = [];\r\n  let index = 1;\r\n\r\n  console.log(`MESSAGES :: ${messages.length}`);\r\n\r\n  for (const value of props.messages) {\r\n    messages.push(<div key={index++} className={`w3-col s8 w3-center ${value.isError ? 'w3-panel w3-pale-red w3-display-container' : 'w3-panel w3-pale-green w3-display-container'}`}><p>{value.text}</p></div>);\r\n  }\r\n\r\n  return (\r\n    <div className=\"w3-row messages-envelope\">\r\n      {messages}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Messages;\r\n","import { IPay2MyAppHub } from \"pay2my.app\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport './App.css';\r\nimport './assets/w3.css'\r\n\r\nimport Pay2MyAppHubComponent from \"./components/Pay2MyAppHubComponent\";\r\nimport Pay2MyAppStatusComponent from \"./components/Pay2MyAppStatusComponent\";\r\nimport Pay2MyAppLoginComponent from \"./components/Pay2MyAppLoginComponent\";\r\nimport Pay2MyAppLoginButtonComponent from \"./components/Pay2MyAppLoginButtonComponent\";\r\nimport Pay2MyAppSellButtonComponent from \"./components/Pay2MyAppSellButtonComponent\";\r\nimport Messages, {Message} from \"./components/Messages\";\r\n\r\ntype AppProps = {\r\n};\r\n\r\nconst App: React.FunctionComponent<AppProps>  = (props) => {\r\n  const [isVisaPending, setIsVisaPending] = useState<boolean>(false);\r\n  const [hub, setHub] = useState<IPay2MyAppHub>();\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n\r\n  const onHubInit = (hub: IPay2MyAppHub) => {\r\n    if (!!hub) {\r\n      setHub(hub);\r\n    }\r\n  }\r\n\r\n  const onPendingTransaction = (currency: string, isPending: boolean) => {\r\n    console.log(`pending-transaction :: ${JSON.stringify({currency, isPending})}`);\r\n    if (currency === 'dollars') {\r\n      setIsVisaPending(isPending);\r\n    }\r\n  }\r\n\r\n  const addMessage = (sku: string) => {\r\n    messages.unshift({text: `${new Date()} -- ${sku} feature used`, isError: false});\r\n    setMessages([...messages]);\r\n  }\r\n\r\n  const addError = (text: string) => {\r\n    messages.unshift({text: text, isError: true});\r\n    setMessages([...messages]);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <img className={`visa ${isVisaPending ? 'visible' : 'invisible'}`} id=\"visa\" src={`${process.env.PUBLIC_URL}/visa.png`} alt=\"\" />\r\n\r\n      <Pay2MyAppHubComponent isTest={true} onHubInit={onHubInit} onPendingTransaction={onPendingTransaction}></Pay2MyAppHubComponent>\r\n\r\n      <div className=\"w3-bar w3-border w3-light-grey\">\r\n        <div className=\"w3-right\">\r\n          <Pay2MyAppStatusComponent hub={hub}></Pay2MyAppStatusComponent>\r\n        </div>          \r\n      </div>\r\n\r\n      <div className=\"w3-container note-container\"><div className=\"w3-card w3-sand w3-margin note\">\r\n        <img className=\"w3-left info\" src={`${process.env.PUBLIC_URL}/info.png`}></img>\r\n        <p>The basic demo showing off all widgets as part of a React.js application.  Using features causes back-end endpoint invocations with authorization checks.</p>\r\n        <p>In the top-right we see the <em>pay2myapp-status</em> widget &mdash; allows (re)login, transaction check, logout, and payments refresh.</p>\r\n        <p>Just below we see an explicit \"login\" button (<em>pay2myapp-appsell</em> widget).  This button always allows (re)login and never starts a feature flow.  This button has some custom neopolitan themed color scheme CSS.</p>\r\n        <p>At the bottom we see three feature buttons (<em>pay2myapp-appsell</em> widgets).  These cause initial login and feature flows &mdash; through the backe-end &mdash; at different payment tiers.</p>\r\n        <p><a href=\"https://github.com/overhide/pay2my.app#demos\">...back to demos</a></p>    \r\n      </div></div>\r\n\r\n      <Pay2MyAppLoginComponent hub={hub}></Pay2MyAppLoginComponent>\r\n\r\n      <div className=\"w3-row w3-padding-64\"><div className=\"w3-col s4\">&nbsp;</div><div className=\"w3-col s4 w3-center\">\r\n        <Pay2MyAppLoginButtonComponent hub={hub}></Pay2MyAppLoginButtonComponent>\r\n      </div></div>\r\n\r\n      <div className=\"w3-row appsell-envelope\">\r\n        <div className=\"w3-col s4 w3-center\">\r\n          <Pay2MyAppSellButtonComponent \r\n            hub={hub}\r\n            sku=\"free-feature\"\r\n            priceDollars=\"0\"\r\n            authorizedMessage=\"Use Feature\"\r\n            unauthorizedTemplate=\"Login to Use Free Feature\"\r\n            bitcoinAddress=\"tb1qr9d7z0es86sps5f2kefx5grpj4a5yvp4evj80z\"\r\n            ethereumAddress=\"0x046c88317b23dc57F6945Bf4140140f73c8FC80F\"\r\n            overhideAddress=\"0x046c88317b23dc57F6945Bf4140140f73c8FC80F\"\r\n            onAddMessage={addMessage}\r\n            onAddError={addError}>\r\n          </Pay2MyAppSellButtonComponent>\r\n        </div>\r\n        <div className=\"w3-col s4 w3-center\">\r\n          <Pay2MyAppSellButtonComponent \r\n            hub={hub}\r\n            sku=\"paid-feature\"\r\n            priceDollars=\"2\"\r\n            authorizedMessage=\"Use Feature\"\r\n            unauthorizedTemplate=\"Add Feature ($${topup})\"\r\n            bitcoinAddress=\"tb1qr9d7z0es86sps5f2kefx5grpj4a5yvp4evj80z\"\r\n            ethereumAddress=\"0x046c88317b23dc57F6945Bf4140140f73c8FC80F\"\r\n            overhideAddress=\"0x046c88317b23dc57F6945Bf4140140f73c8FC80F\"\r\n            onAddMessage={addMessage}\r\n            onAddError={addError}>\r\n          </Pay2MyAppSellButtonComponent>\r\n        </div>\r\n        <div className=\"w3-col s4 w3-center\">\r\n          <Pay2MyAppSellButtonComponent \r\n            hub={hub}\r\n            sku=\"subscribed-feature\"\r\n            priceDollars=\"3\"\r\n            authorizedMessage=\"Use Feature\"\r\n            unauthorizedTemplate=\"Subscribe Feature For 30 Minutes ($${topup})\"\r\n            bitcoinAddress=\"tb1qr9d7z0es86sps5f2kefx5grpj4a5yvp4evj80z\"\r\n            ethereumAddress=\"0x046c88317b23dc57F6945Bf4140140f73c8FC80F\"\r\n            overhideAddress=\"0x046c88317b23dc57F6945Bf4140140f73c8FC80F\"\r\n            withinMinutes=\"30\"\r\n            onAddMessage={addMessage}\r\n            onAddError={addError}>\r\n          </Pay2MyAppSellButtonComponent>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"w3-row w3-padding-64\">\r\n        <div className=\"w3-col w3-center\">\r\n          <Messages messages={messages}></Messages>\r\n        </div>\r\n      </div>        \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport { Pay2MyAppHub, Pay2MyAppStatus, Pay2MyAppLogin, Pay2MyAppSell } from \"pay2my.app\";\r\n\r\nPay2MyAppHub;\r\nPay2MyAppStatus;\r\nPay2MyAppLogin\r\nPay2MyAppSell;\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}